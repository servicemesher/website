<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="347px" preserveAspectRatio="none" style="width:562px;height:347px;" version="1.1" viewBox="0 0 562 347" width="562px" zoomAndPan="magnify"><defs/><g><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="51" x2="51" y1="34.2969" y2="307.3594"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="167" x2="167" y1="34.2969" y2="307.3594"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="305" x2="305" y1="34.2969" y2="307.3594"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="482" x2="482" y1="34.2969" y2="307.3594"/><rect fill="#F8F8F8" height="30.2969" style="stroke: #383838; stroke-width: 1.5;" width="87" x="8" y="3"/><text fill="#000000" font-family="FG Virgil" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="73" x="15" y="22.9951">PilotServer</text><rect fill="#F8F8F8" height="30.2969" style="stroke: #383838; stroke-width: 1.5;" width="87" x="8" y="306.3594"/><text fill="#000000" font-family="FG Virgil" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="73" x="15" y="326.3545">PilotServer</text><rect fill="#F8F8F8" height="30.2969" style="stroke: #383838; stroke-width: 1.5;" width="125" x="105" y="3"/><text fill="#000000" font-family="FG Virgil" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="111" x="112" y="22.9951">ConfigController</text><rect fill="#F8F8F8" height="30.2969" style="stroke: #383838; stroke-width: 1.5;" width="125" x="105" y="306.3594"/><text fill="#000000" font-family="FG Virgil" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="111" x="112" y="326.3545">ConfigController</text><rect fill="#F8F8F8" height="30.2969" style="stroke: #383838; stroke-width: 1.5;" width="131" x="240" y="3"/><text fill="#000000" font-family="FG Virgil" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="117" x="247" y="22.9951">ServiceController</text><rect fill="#F8F8F8" height="30.2969" style="stroke: #383838; stroke-width: 1.5;" width="131" x="240" y="306.3594"/><text fill="#000000" font-family="FG Virgil" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="117" x="247" y="326.3545">ServiceController</text><rect fill="#F8F8F8" height="30.2969" style="stroke: #383838; stroke-width: 1.5;" width="125" x="420" y="3"/><text fill="#000000" font-family="FG Virgil" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="111" x="427" y="22.9951">DiscoveryServer</text><rect fill="#F8F8F8" height="30.2969" style="stroke: #383838; stroke-width: 1.5;" width="125" x="420" y="306.3594"/><text fill="#000000" font-family="FG Virgil" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="111" x="427" y="326.3545">DiscoveryServer</text><rect fill="#EEEEEE" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="547" x="3" y="64.8633"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="550" y1="64.8633" y2="64.8633"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="550" y1="67.8633" y2="67.8633"/><rect fill="#EEEEEE" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="108" x="222.5" y="54.2969"/><text fill="#000000" font-family="FG Virgil" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="89" x="228.5" y="70.3638">Initialization</text><path d="M56,92.4297 L56,117.4297 L261,117.4297 L261,102.4297 L251,92.4297 L56,92.4297 " fill="#ECECEC" style="stroke: #383838; stroke-width: 1.0;"/><path d="M251,92.4297 L251,102.4297 L261,102.4297 L251,92.4297 " fill="#ECECEC" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="FG Virgil" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="184" x="62" y="109.4966">pilot/pkg/bootstrap/server.go</text><polygon fill="#383838" points="155.5,139.6953,165.5,143.6953,155.5,147.6953,159.5,143.6953" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="51.5" x2="161.5" y1="143.6953" y2="143.6953"/><text fill="#000000" font-family="FG Virgil" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="43" x="58.5" y="138.6294">Create</text><polygon fill="#383838" points="293.5,168.8281,303.5,172.8281,293.5,176.8281,297.5,172.8281" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="51.5" x2="299.5" y1="172.8281" y2="172.8281"/><text fill="#000000" font-family="FG Virgil" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="43" x="58.5" y="167.7622">Create</text><polygon fill="#383838" points="470.5,197.9609,480.5,201.9609,470.5,205.9609,474.5,201.9609" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="51.5" x2="476.5" y1="201.9609" y2="201.9609"/><text fill="#000000" font-family="FG Virgil" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="43" x="58.5" y="196.895">Create</text><polygon fill="#383838" points="178.5,227.0938,168.5,231.0938,178.5,235.0938,174.5,231.0938" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="172.5" x2="481.5" y1="231.0938" y2="231.0938"/><text fill="#000000" font-family="FG Virgil" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="138" x="184.5" y="226.0278">RegisterEventHandler</text><polygon fill="#383838" points="316.5,256.2266,306.5,260.2266,316.5,264.2266,312.5,260.2266" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="310.5" x2="481.5" y1="260.2266" y2="260.2266"/><text fill="#000000" font-family="FG Virgil" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="146" x="322.5" y="255.1606">AppendServiceHandler</text><polygon fill="#383838" points="316.5,285.3594,306.5,289.3594,316.5,293.3594,312.5,289.3594" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="310.5" x2="481.5" y1="289.3594" y2="289.3594"/><text fill="#000000" font-family="FG Virgil" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="153" x="322.5" y="284.2935">AppendInstanceHandler</text><!--MD5=[deded2c6e795ad3ea74e0edc728268c4]
@startuml
skinparam monochrome true
skinparam packageStyle rect
skinparam defaultFontName FG Virgil
skinparam shadowing false

participant "PilotServer"
participant ConfigController
participant ServiceController
participant DiscoveryServer


== Initialization ==
note right of PilotServer
    pilot/pkg/bootstrap/server.go
end note
PilotServer -> ConfigController:Create
PilotServer -> ServiceController:Create
PilotServer -> DiscoveryServer:Create

DiscoveryServer -> ConfigController:RegisterEventHandler
DiscoveryServer -> ServiceController:AppendServiceHandler
DiscoveryServer -> ServiceController:AppendInstanceHandler
@enduml

PlantUML version 1.2019.12beta6(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.7.0_25-b15
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>